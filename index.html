<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal Code Preview</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/dracula.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1><i class="fas fa-code"></i> Universal Code Preview</h1>
                <p>Write code in any language and see it come to life</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Language Selector -->
            <div class="language-selector">
                <label for="language-select">Choose Language:</label>
                <select id="language-select">
                    <option value="html">HTML/CSS/JS</option>
                    <option value="python">Python</option>
                    <option value="javascript">JavaScript</option>
                    <option value="react">React/JSX</option>
                    <option value="java">Java</option>
                    <option value="cpp">C++</option>
                    <option value="csharp">C#</option>
                    <option value="php">PHP</option>
                    <option value="ruby">Ruby</option>
                    <option value="go">Go</option>
                </select>
                <button id="template-btn" class="template-btn">
                    <i class="fas fa-file-code"></i> Load Template
                </button>
                <button id="run-btn" class="run-btn">
                    <i class="fas fa-play"></i> Run Code
                </button>
            </div>

            <!-- Editor and Preview Container -->
            <div class="editor-preview-container">
                <!-- Code Editor -->
                <div class="editor-section">
                    <div class="section-header">
                        <h3><i class="fas fa-edit"></i> Code Editor</h3>
                        <div class="editor-controls">
                            <button id="clear-btn" class="control-btn">
                                <i class="fas fa-trash"></i> Clear
                            </button>
                            <button id="copy-btn" class="control-btn">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                        </div>
                    </div>
                    <div class="editor-container">
                        <textarea id="code-editor"></textarea>
                    </div>
                </div>

                <!-- Preview Section -->
                <div class="preview-section">
                    <div class="section-header">
                        <h3><i class="fas fa-eye"></i> Preview</h3>
                        <div class="preview-controls">
                            <button id="fullscreen-btn" class="control-btn">
                                <i class="fas fa-expand"></i> Fullscreen
                            </button>
                            <button id="download-btn" class="control-btn">
                                <i class="fas fa-download"></i> Download
                            </button>
                        </div>
                    </div>
                    <div class="preview-container">
                        <iframe id="preview-frame" sandbox="allow-scripts allow-same-origin allow-forms"></iframe>
                        <div id="console-output" class="console-output hidden">
                            <div class="console-header">
                                <span><i class="fas fa-terminal"></i> Console Output</span>
                                <button id="clear-console" class="clear-console-btn">Clear</button>
                            </div>
                            <div id="console-content"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Status Bar -->
            <div class="status-bar">
                <div class="status-info">
                    <span id="status-text">Ready</span>
                </div>
                <div class="status-actions">
                    <span id="char-count">0 characters</span>
                    <span id="line-count">1 line</span>
                </div>
            </div>
        </main>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Loading...</p>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/xml/xml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/css/css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/htmlmixed/htmlmixed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/clike/clike.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/php/php.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/ruby/ruby.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/go/go.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/selection/active-line.min.js"></script>
    
    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Pyodide for Python execution -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
    
    <script src="app.js"></script>
</body>
</html>